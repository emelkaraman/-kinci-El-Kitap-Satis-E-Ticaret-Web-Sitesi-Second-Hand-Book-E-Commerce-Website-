@using İkinciElKitapSatisVol1.Models;
@using İkinciElKitapSatisVol1.AppClass;

@model List<Item>
@{
    ViewBag.Title = "Sepetim";
}

<h2>Sepetim</h2>

<div class="row">
                        <div class="offset-xl-2 col-xl-8 col-lg-12 col-md-12 col-sm-12 col-12">
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4 class="mb-0">Siparis Onaylama</h4>
                                        </div>
                                        <div class="card-body">
                                            <form class="needs-validation" action="/Kitap/SiparisEkle" method="post" role="form" novalidate="">
                                                <div class="row">
                                                    <div class="col-md-6 mb-3">
                                                        <label for="SipTarihi">Siparis Tarihi</label>
                                                        <input type="datetime-local" class="form-control" name="SipTarihi" placeholder="" value="" required="">
                                                    </div>
                                                    <div class="invalid-feedback">
                                                        Tarihi ve saati seçiniz
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label for="MusteriID"> MüsteriID</label>
                                                    <div class="input-group">

                                                        <div class="col-sm-2">
                                                            <input style="margin-left:12px; width:200px" type="text" readonly class="form-control" id="@ViewBag.User.UserID" value="@ViewBag.User.UserID" name="MusteriID">
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label for="Kargo"> Kargo Firması</label>
                                                    <select style="margin-left:15px" class="col-sm-3 form-control" name="KargoFirmasiID">
                                                        @foreach (KargoFirmasi item in ViewBag.Kargo)
                                                        {
                                                            <option value="@item.KargoFirmasiID">@item.KargoFirmasiAdi</option>

                                                        }
                                                    </select>
                                                    <div class="invalid-feedback">
                                                        Lütfen Kargo Firması Seçiniz
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label for="Kart"> Kartlarım</label>
                                                    <select style="margin-left:15px" class="col-sm-3 form-control" name="MusteriKartID">
                                                        @foreach (Kart item in ViewBag.Kart)
                                                        {
                                                            <option value="@item.KartID">@item.KartNumarası @item.KartınUstundekiİsim</option>

                                                        }
                                                    </select>
                                                    <div class="invalid-feedback">
                                                        Lütfen Kart Seçiniz
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label for="ToplamTutar"> Toplam Tutar</label>
                                                    <div class="input-group">

                                                        <div class="col-sm-2">
                                                            <input style="margin-left:12px; width:200px" type="text" readonly class="form-control" id="@ViewBag.ToplamTutar" value="@ViewBag.ToplamTutar" name="ToplamTutar">
                                                        </div>

                                                    </div>
                                                </div>

                                                <hr class="mb-4">
                                                <button style="margin-left:450px" type="submit" class="btn btn-primary">Siparise devam et</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-4">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4 class="d-flex justify-content-between align-items-center mb-0">
                                                        <span class="text-muted">Your cart</span>
                                          <span class="badge badge-secondary badge-pill">3</span>
                                                 </h4>
                                        </div>
                                        <div class="card-body">
                                            <ul class="list-group mb-3">
                                                @if (Model != null)
                                                {
                                                    foreach (var item in Model)
                                                    {
                                                <li class="list-group-item d-flex justify-content-between">


                                                    <div>
                                                        <h6 class="my-0">@item.kitaplar.KitapAdi</h6>
                                                        <small class="text-muted">@item.adet</small>
                                                    </div>
                                                    <span class="text-muted">{@item.kitaplar.Fiyat * @item.adet}</span>
                                                    <span class="text-muted">@item.tutar Tl</span>
                                                    

                                                    @if (Model == null)
                                                    {
                                                        <div>
                                                            <h6 class="my-0">Sepet Boş</h6>
                                                        </div>
                                                    }



                                                </li>
                                                    }
                                                }

                                                <li class="list-group-item d-flex justify-content-between">
                                                    <span>Toplam Fiyat</span>
                                                    <strong>@ViewBag.ToplamTutar</strong>
                                                </li>
                                            </ul>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
    </div>
                    
